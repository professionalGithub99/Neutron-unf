\hypertarget{UNFOLD_8h_source}{}\doxysection{UNFOLD.\+h}
\label{UNFOLD_8h_source}\index{include/UNFOLD.h@{include/UNFOLD.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#ifndef \_UNFOLD\_H\_}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#define \_UNFOLD\_H\_}}
\DoxyCodeLine{4 \textcolor{comment}{//ROOT classes}}
\DoxyCodeLine{5 \textcolor{comment}{// Eigen}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <Eigen/Core>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <Eigen/Dense>}}
\DoxyCodeLine{8 \textcolor{comment}{//c++ classes}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <fstream>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <TGraph.h>}}
\DoxyCodeLine{13 \textcolor{comment}{//my classes}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <FILEIO.h>}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{keyword}{namespace }UNFOLD\{}
\DoxyCodeLine{17 }
\DoxyCodeLine{22 \textcolor{keyword}{class }\mbox{\hyperlink{classUNFOLD_1_1UNFOLD}{UNFOLD}}}
\DoxyCodeLine{23 \{}
\DoxyCodeLine{24   \textcolor{keyword}{private}:}
\DoxyCodeLine{25     Eigen::MatrixXf a, b, x, x\_1, catr, ax, ansIndex,z,x\_uncert;}
\DoxyCodeLine{26     Eigen::ArrayXf a\_norm;}
\DoxyCodeLine{27     Eigen::VectorXf ground\_truth;}
\DoxyCodeLine{28     \mbox{\hyperlink{classUNFOLD_1_1FILEIO}{FILEIO}} *m\_fio;}
\DoxyCodeLine{29     \textcolor{comment}{// a -\/ response matrix}}
\DoxyCodeLine{30     \textcolor{comment}{// b -\/ LO spectrum to unfold}}
\DoxyCodeLine{31     \textcolor{comment}{// x -\/ guess}}
\DoxyCodeLine{32     \textcolor{comment}{// x\_1 -\/ updated guess}}
\DoxyCodeLine{33     \textcolor{comment}{// catr -\/ normalization matrix}}
\DoxyCodeLine{34     \textcolor{comment}{// ax -\/ forward projection}}
\DoxyCodeLine{35     \textcolor{comment}{// ansInex -\/ corresponding energy for a position in x or x\_1}}
\DoxyCodeLine{36     std::vector<double> rmse2Vals; \textcolor{comment}{// rss values as a function of iteration}}
\DoxyCodeLine{37     std::vector<double> rmseDeltaVals; \textcolor{comment}{// rss values as a function of iteration}}
\DoxyCodeLine{38     std::vector<double> rss2Vals; \textcolor{comment}{// rss values as a function of iteration}}
\DoxyCodeLine{39   \textcolor{keyword}{public}:}
\DoxyCodeLine{40     \textcolor{keywordtype}{int} nBins;}
\DoxyCodeLine{41     \textcolor{keywordtype}{int} eBins;}
\DoxyCodeLine{42     \mbox{\hyperlink{classUNFOLD_1_1UNFOLD}{UNFOLD}}(\mbox{\hyperlink{classUNFOLD_1_1FILEIO}{FILEIO}} *fio);}
\DoxyCodeLine{43     \textcolor{keywordtype}{void} printParameters();}
\DoxyCodeLine{44     \textcolor{comment}{//\string~UNFOLD();}}
\DoxyCodeLine{45     \textcolor{keywordtype}{void} setResponseMatrix();}
\DoxyCodeLine{46     \textcolor{keywordtype}{void} calcNormMatrix();}
\DoxyCodeLine{47     \textcolor{keywordtype}{void} setData(); \textcolor{comment}{// fills matrix b}}
\DoxyCodeLine{48     \textcolor{keywordtype}{void} generateFakeData(std::vector<double> en, std::vector<double> weight);}
\DoxyCodeLine{49     \textcolor{keywordtype}{void} setInitialGuess(\textcolor{keywordtype}{float} guess);}
\DoxyCodeLine{50     \textcolor{keywordtype}{void} calcRMSE(); \textcolor{comment}{//calculates rmse }}
\DoxyCodeLine{51     Eigen::ArrayXf updateMLEM(); \textcolor{comment}{// update equation for MLEM}}
\DoxyCodeLine{52     \textcolor{keywordtype}{void} backProject();}
\DoxyCodeLine{53     \textcolor{keywordtype}{void} updateSIRT(); \textcolor{comment}{// update equation for SIRT}}
\DoxyCodeLine{54     std::vector<double>getRSS(); \textcolor{comment}{// calculate rss value}}
\DoxyCodeLine{55     std::vector<double>getRMSEDelta(); \textcolor{comment}{// calculate rss value}}
\DoxyCodeLine{56     \textcolor{comment}{// *******}}
\DoxyCodeLine{57     \textcolor{comment}{// SETTERS}}
\DoxyCodeLine{58     \textcolor{comment}{// *******}}
\DoxyCodeLine{59     \textcolor{keywordtype}{void} setInSpectrum(Eigen::VectorXf vect);}
\DoxyCodeLine{60     \textcolor{keywordtype}{void} setInputEnergy(Eigen::VectorXf vect);}
\DoxyCodeLine{61 Eigen::VectorXf scaleVectorWithKey(Eigen::VectorXf scaleTo, Eigen::VectorXf key,Eigen::VectorXf scale);}
\DoxyCodeLine{62     \textcolor{comment}{// *******}}
\DoxyCodeLine{63     \textcolor{comment}{// Getters}}
\DoxyCodeLine{64     \textcolor{comment}{// *******}}
\DoxyCodeLine{65     std::vector<float> getProjection();}
\DoxyCodeLine{66     std::vector<float> getProjectionUncertainties();}
\DoxyCodeLine{67     Eigen::VectorXf getFwdProjection();}
\DoxyCodeLine{68     \textcolor{keywordtype}{double} getStopIndice();}
\DoxyCodeLine{69     \textcolor{keywordtype}{double} getRss();}
\DoxyCodeLine{70     \textcolor{keywordtype}{double} getRMSE();}
\DoxyCodeLine{71     Eigen::VectorXf getInSpectrum();}
\DoxyCodeLine{72     Eigen::VectorXf getInSpectrumUncertainties();}
\DoxyCodeLine{73     Eigen::VectorXf getBestGuess();}
\DoxyCodeLine{74     Eigen::VectorXf expirementalGetBestGuess(\textcolor{keywordtype}{char} *name);}
\DoxyCodeLine{75     Eigen::MatrixXf getResponseMatrix();}
\DoxyCodeLine{76     Eigen::VectorXf getGroundTruth();}
\DoxyCodeLine{77     \textcolor{comment}{// *************}}
\DoxyCodeLine{78     \textcolor{comment}{// histogram visualization}}
\DoxyCodeLine{79     \textcolor{comment}{// *************}}
\DoxyCodeLine{80     \textcolor{keywordtype}{void} plotResponseForAnEnergy(\textcolor{keywordtype}{double} energy);}
\DoxyCodeLine{81     \textcolor{keywordtype}{void} plotInputSpectrum(\textcolor{keywordtype}{char}*name);}
\DoxyCodeLine{82     \textcolor{keywordtype}{void} plotProjection(\textcolor{keywordtype}{char}*name);}
\DoxyCodeLine{83     TGraph* plotAnswer(\textcolor{keywordtype}{char}* name);}
\DoxyCodeLine{84     TGraph* plotAnswer(Eigen::VectorXf uncertainties,\textcolor{keywordtype}{char} *name);}
\DoxyCodeLine{85     \textcolor{keywordtype}{void} plotResponseMatrix();}
\DoxyCodeLine{86     \textcolor{keywordtype}{void} plotRMSE();}
\DoxyCodeLine{87     \textcolor{keywordtype}{void} plotRSS();}
\DoxyCodeLine{88   \textcolor{keyword}{public}:}
\DoxyCodeLine{89     TH1F *hFinal;}
\DoxyCodeLine{90     TH1F *hInput;}
\DoxyCodeLine{91     TH1F *hAnswer;}
\DoxyCodeLine{92     TH1F *hAnswerTest;}
\DoxyCodeLine{93     TH1F *hSig;}
\DoxyCodeLine{94 }
\DoxyCodeLine{95 \};}
\DoxyCodeLine{96 \}}
\DoxyCodeLine{97 }
\DoxyCodeLine{98 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
